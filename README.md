# ğŸŒ± AI Batake App

AIã‚’æ´»ç”¨ã—ãŸã‚¹ãƒãƒ¼ãƒˆè¾²æ¥­ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã€ç¨®è¢‹ç”»åƒã‹ã‚‰ã®æ ½åŸ¹æƒ…å ±ã®è‡ªå‹•æŠ½å‡ºã€ãŠã‚ˆã³AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ã®ç”Ÿæˆã‚’è¡Œã„ã¾ã™ã€‚

## ğŸ“‹ æ¦‚è¦

AI Batake Appã¯ã€å®¶åº­èœåœ’ã‚„è¾²æ¥­ã‚’æ”¯æ´ã™ã‚‹ãŸã‚ã®AIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç’°å¢ƒç›£è¦–**: æ¸©åº¦ã€æ¹¿åº¦ã€åœŸå£Œæ°´åˆ†ãªã©ã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å¯è¦–åŒ–
- **ç¨®è¢‹ç”»åƒè§£æ**: AIã«ã‚ˆã‚‹ç¨®è¢‹ç”»åƒã®è‡ªå‹•åˆ†æã¨æ ½åŸ¹æƒ…å ±ã®æŠ½å‡º
- **Deep Research**: Gemini AIã‚’æ´»ç”¨ã—ãŸè©³ç´°ãªæ ½åŸ¹æ¡ä»¶ã®èª¿æŸ»
- **æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ**: ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®æ ½åŸ¹æ‰‹é †ã¨ç”»åƒã®è‡ªå‹•ç”Ÿæˆ
- **AIã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½œæˆ**: ç¨®è¢‹ç”»åƒã‹ã‚‰ã‚ªãƒªã‚¸ãƒŠãƒ«ã®é‡èœã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ç”Ÿæˆ
- **çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½**: ç¨®è¢‹è§£æãƒ»Deep Researchãƒ»æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆã‚’ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§å®Ÿè¡Œ
- **AIã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®è‡ªå¾‹å‹•ä½œå†…å®¹ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§è¡¨ç¤º
- **è‡ªå‹•æ ½åŸ¹æ—¥è¨˜ç”Ÿæˆ**: æ¯æ—¥ã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨å¤©æ°—æƒ…å ±ã‹ã‚‰æ ½åŸ¹æ—¥è¨˜ã‚’è‡ªå‹•ç”Ÿæˆ (by Cloud Scheduler)
- **çµµæ—¥è¨˜ç”»åƒç”Ÿæˆ**: AIç”Ÿæˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å«ã‚€çµµæ—¥è¨˜é¢¨ç”»åƒã®è‡ªå‹•ç”Ÿæˆ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|----------|------|
| Python | 3.11 | ãƒ¡ã‚¤ãƒ³è¨€èª |
| FastAPI | - | Web API ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| Uvicorn | - | ASGI ã‚µãƒ¼ãƒãƒ¼ |
| Google Cloud Firestore | - | NoSQL ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| Google Cloud Storage | - | ç”»åƒã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| Google Vertex AI | - | AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåŸºç›¤ |
| Gemini API | - | ç”»åƒè§£æãƒ»Deep Researchãƒ»æ—¥è¨˜/ç”»åƒç”Ÿæˆ |
| Google Cloud Scheduler | - | å®šæœŸå®Ÿè¡Œã‚¸ãƒ§ãƒ– (æ—¥è¨˜ç”Ÿæˆ) |

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|----------|------|
| Next.js | 16 | React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (App Router) |
| React | 19 | UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| TypeScript | 5 | å‹å®‰å…¨ãªé–‹ç™º |
| Tailwind CSS | 4 | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| Radix UI | - | ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãª UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| Recharts | - | ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ– |

### ã‚¤ãƒ³ãƒ•ãƒ©
| æŠ€è¡“ | ç”¨é€” |
|------|------|
| Docker | ã‚³ãƒ³ãƒ†ãƒŠåŒ– |
| Google Cloud Run | ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ãƒ‡ãƒ—ãƒ­ã‚¤ |
| Google Cloud Scheduler | å®šæœŸå®Ÿè¡Œã‚¸ãƒ§ãƒ– |

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
ai-batake-app/
â”œâ”€â”€ backend/                    # Python FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ main.py                # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ agent.py               # Vertex AI ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé€£æº
â”‚   â”œâ”€â”€ db.py                  # Firestore ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
â”‚   â”œâ”€â”€ research_agent.py      # ç¨®è¢‹è§£æãƒ»Deep Research
â”‚   â”œâ”€â”€ seed_service.py        # éåŒæœŸæ ½åŸ¹ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ
â”‚   â”œâ”€â”€ diary_service.py       # è‡ªå‹•æ ½åŸ¹æ—¥è¨˜ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ image_service.py       # çµµæ—¥è¨˜ç”»åƒç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ character_service.py   # AIã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ logger.py              # æ§‹é€ åŒ–ãƒ­ã‚®ãƒ³ã‚°
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾å­˜é–¢ä¿‚
â”‚   â””â”€â”€ tests/                 # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (473ãƒ†ã‚¹ãƒˆ)
â”‚
â”œâ”€â”€ frontend/                   # Next.js ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ app/                   # App Router ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ page.tsx          # ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ dashboard/        # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ research_agent/   # Research Agent UI
â”‚   â”‚   â”œâ”€â”€ seed_guide/       # æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ UI
â”‚   â”‚   â”œâ”€â”€ unified/          # çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½ UI
â”‚   â”‚   â”œâ”€â”€ diary/            # æ ½åŸ¹æ—¥è¨˜è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ character/        # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ components/            # React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/               # åŸºæœ¬ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ metric-card.tsx   # ã‚»ãƒ³ã‚µãƒ¼ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ weather-card.tsx  # å¤©æ°—æƒ…å ±è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ ai-activity-log.tsx # AIã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ lib/                   # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”‚
â”œâ”€â”€ docs/                       # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ Dockerfile                  # Docker ãƒ“ãƒ«ãƒ‰è¨­å®š
â”œâ”€â”€ start.sh                    # èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 18ä»¥ä¸Š
- Python 3.11
- Google Cloud ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆFirestore, Storage, Vertex AI ã®æœ‰åŠ¹åŒ–ï¼‰

### ç’°å¢ƒå¤‰æ•°

ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
# Google Cloud
export GOOGLE_CLOUD_PROJECT="your-project-id"
export GOOGLE_APPLICATION_CREDENTIALS="/path/to/service-account.json"

# AI Agent
export AGENT_ENDPOINT="projects/{PROJECT_ID}/locations/us-central1/reasoningEngines/{AGENT_ID}"

# Gemini API (Optional)
export GEMINI_API_KEY="your-api-key"
export SEED_GUIDE_GEMINI_KEY="your-api-key"

# Diary Auto Generation (Optional)
export DIARY_API_KEY="your-secret-key-for-scheduler"
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```bash
cd backend
pip install -r requirements.txt
uvicorn backend.main:app --host 0.0.0.0 --port 8081 --reload
```

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```bash
cd frontend
npm install --legacy-peer-deps
npm run dev
```

### Docker ãƒ“ãƒ«ãƒ‰
```bash
# ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰
docker build -t ai-batake-app .

# ã‚³ãƒ³ãƒ†ãƒŠã®å®Ÿè¡Œ
docker run -p 8080:8080 -p 8081:8081 ai-batake-app
```

## ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“å›³

```mermaid
graph TB
    subgraph "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Next.js)"
        LP[ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸]
        DB[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰]
        RA[Research Agent]
        SG[Seed Guide]
        UNI[çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½]
        DIARY[æ ½åŸ¹æ—¥è¨˜]
        CHAR[ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼]
    end

    subgraph "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (FastAPI)"
        API[API Server<br/>:8081]
        AGT[Agent Module]
        RES[Research Module]
        SEED[Seed Service]
        DSVC[Diary Service]
        ISVC[Image Service]
        CSVC[Character Service]
        LOG[Logger]
    end

    subgraph "Google Cloud"
        FS[(Firestore)]
        GCS[(Cloud Storage)]
        VAI[Vertex AI<br/>Agent Engine]
        GEM[Gemini API]
        SCH[Cloud Scheduler]
    end

    subgraph "ã‚¨ãƒƒã‚¸ãƒ‡ãƒã‚¤ã‚¹"
        SENS[ã‚»ãƒ³ã‚µãƒ¼]
        CAM[ã‚«ãƒ¡ãƒ©]
    end

    LP --> DB
    LP --> RA
    LP --> SG
    LP --> UNI
    LP --> DIARY
    LP --> CHAR

    DB --> API
    RA --> API
    SG --> API
    UNI --> API
    DIARY --> API
    CHAR --> API

    API --> AGT
    API --> RES
    API --> SEED
    API --> DSVC
    API --> ISVC
    API --> CSVC

    AGT --> VAI
    RES --> GEM
    SEED --> GEM
    DSVC --> GEM
    ISVC --> GEM
    CSVC --> GEM

    API --> FS
    API --> GCS

    SCH --> API

    SENS --> FS
    CAM --> GCS
```

### ç¨®è¢‹è§£æãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant U as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant FE as Frontend
    participant BE as Backend
    participant GM as Gemini API
    participant DB as Firestore

    U->>FE: ç¨®è¢‹ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    FE->>BE: POST /api/register-seed
    BE->>GM: ç”»åƒè§£æãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    GM-->>BE: é‡èœåãƒ»åŸºæœ¬æƒ…å ±
    BE->>DB: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ä¿å­˜ (processing)
    BE-->>FE: document_id è¿”å´
    
    Note over BE: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¿ã‚¹ã‚¯
    BE->>GM: Deep Research é–‹å§‹
    GM-->>BE: è©³ç´°æ ½åŸ¹æƒ…å ±
    BE->>DB: çµæœä¿å­˜ (completed)
    
    FE->>BE: GET /api/vegetables (ãƒãƒ¼ãƒªãƒ³ã‚°)
    BE-->>FE: æœ€æ–°ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
    FE->>U: çµæœè¡¨ç¤º
    
    U->>FE: ã€ŒApply to Agentã€ã‚’ã‚¯ãƒªãƒƒã‚¯
    FE->>BE: POST /api/vegetables/{id}/select
    BE->>DB: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®šæ›´æ–° (edge_agent)
```

### çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½ãƒ•ãƒ­ãƒ¼ (POST /api/unified/start)

```mermaid
sequenceDiagram
    participant C as Client
    participant M as main.py
    participant R as research_agent.py (Phase 1/2)
    participant S as seed_service.py (Phase 3)
    participant CF as Character Func (Phase 1)
    participant F as Firestore

    C->>M: POST /api/unified/start (ç”»åƒ)
    M->>F: Unified Job ä½œæˆ (PROCESSING)
    M->>F: Sub-Jobs ä½œæˆ (Research/Guide/Char)
    M-->>C: {job_id, sub_job_ids...}

    Note over M: BackgroundTask (Unified Runner)

    par Phase 1: Character & Basic Analysis
        M->>CF: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆ
        CF->>F: Character Job å®Œäº†
        M->>R: åŸºæœ¬è§£æ (Vegetable Name)
        R->>F: Vegetable Doc ä½œæˆ (Status: researching)
    end
    
    Note over M: Phase 1 å®Œäº†å¾…ã¡ (await gather)

    par Phase 2 & 3: Deep Research & Guide (ä¸¦åˆ—)
        M->>R: perform_deep_research()
        R->>F: Vegetable Doc æ›´æ–° (Status: completed)
        M->>S: process_seed_guide()
        S->>F: Guide Job å®Œäº†
    end

    C->>M: GET /api/unified/jobs/{job_id}
    M->>F: Unified Job & Sub-Jobs çŠ¶æ…‹å–å¾—
    M-->>C: {job_status, research_status, guide_status, char_status}
```

### æ ½åŸ¹æ—¥è¨˜è‡ªå‹•ç”Ÿæˆãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant SCH as Cloud Scheduler
    participant BE as Backend
    participant GM as Gemini API
    participant IMG as Image Service
    participant DB as Firestore

    SCH->>BE: POST /api/diary/auto-generate (18:00 JST)
    BE->>DB: æ—¥è¨˜ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆæœŸåŒ– (processing)
    
    Note over BE: åŒæœŸå‡¦ç†
    BE->>DB: ãƒ‡ãƒ¼ã‚¿åé›† (ãƒ­ã‚°ãƒ»ã‚»ãƒ³ã‚µãƒ¼ãƒ»é‡èœãƒ»ç”»åƒ)
    BE->>GM: AIæ—¥è¨˜ç”Ÿæˆ (ãƒªãƒˆãƒ©ã‚¤ä»˜ã)
    GM-->>BE: æ—¥è¨˜ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ (JSON)
    BE->>IMG: çµµæ—¥è¨˜ç”»åƒç”Ÿæˆ
    IMG->>GM: ç”»åƒç”Ÿæˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    GM-->>IMG: ç”»åƒãƒ‡ãƒ¼ã‚¿
    IMG-->>BE: ç”»åƒURL
    BE->>DB: æ—¥è¨˜ä¿å­˜ (completed)
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
```bash
cd backend
pip install pytest pytest-asyncio httpx
pytest
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```bash
cd frontend
npm test
```

è©³ç´°ãªãƒ†ã‚¹ãƒˆæƒ…å ±ã«ã¤ã„ã¦ã¯ [docs/TEST_README.md](docs/TEST_README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“± ç”»é¢æ§‹æˆ

| ç”»é¢ | ãƒ‘ã‚¹ | èª¬æ˜ |
|------|-----|------|
| ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚° | `/` | ã‚¢ãƒ—ãƒªæ¦‚è¦ã¨å„æ©Ÿèƒ½ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ |
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | `/dashboard` | ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ»å¤©æ°—ãƒ»æˆé•·æ®µéšã®è¡¨ç¤º |
| Research Agent | `/research_agent` | ç¨®è¢‹è§£æã¨è©³ç´°ãƒªã‚µãƒ¼ãƒ |
| Seed Guide | `/seed_guide` | éåŒæœŸæ ½åŸ¹ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ |
| çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½ | `/unified` | Researchãƒ»Guideãƒ»Character ã®ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯çµ±åˆå®Ÿè¡Œ |
| æ ½åŸ¹æ—¥è¨˜ | `/diary` | è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸæ ½åŸ¹æ—¥è¨˜ã®é–²è¦§ |
| ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ | `/character` | AIç”Ÿæˆã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç®¡ç† |

## ğŸ”— API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ã‚»ãƒ³ã‚µãƒ¼ãƒ»å¤©æ°—
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/weather` | å¤©æ°—æƒ…å ±å–å¾— |
| GET | `/api/sensors/latest` | æœ€æ–°ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿å–å¾— |
| GET | `/api/sensor-history` | ã‚»ãƒ³ã‚µãƒ¼å±¥æ­´å–å¾— |

### é‡èœãƒ»ç¨®è¢‹
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| GET | `/api/vegetables/latest` | æœ€æ–°é‡èœãƒ‡ãƒ¼ã‚¿å–å¾— |
| GET | `/api/vegetables` | å…¨é‡èœãƒªã‚¹ãƒˆå–å¾— |
| POST | `/api/vegetables/{doc_id}/select` | è‚²æˆæƒ…å ±ã®é¸æŠãƒ»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé©ç”¨ |
| DELETE | `/api/vegetables/{doc_id}` | é‡èœãƒ‡ãƒ¼ã‚¿å‰Šé™¤ |
| POST | `/api/register-seed` | ç¨®è¢‹ç™»éŒ²ãƒ»è§£æé–‹å§‹ |
| GET | `/api/plant-camera/latest` | æœ€æ–°æ¤ç‰©ç”»åƒå–å¾— |
| GET | `/api/agent-logs` | ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œãƒ­ã‚°å–å¾— |
| GET | `/api/agent-logs/oldest` | æœ€å¤ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ­ã‚° (æ’­ç¨®æ—¥æ•°è¨ˆç®—ç”¨) |

### æ ½åŸ¹ã‚¬ã‚¤ãƒ‰
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/seed-guide/jobs` | æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ã‚¸ãƒ§ãƒ–ä½œæˆ |
| GET | `/api/seed-guide/jobs/{job_id}` | ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾— |
| POST | `/api/seed-guide/save` | æ ½åŸ¹ã‚¬ã‚¤ãƒ‰ä¿å­˜ |
| GET | `/api/seed-guide/saved` | ä¿å­˜æ¸ˆã¿ã‚¬ã‚¤ãƒ‰ä¸€è¦§ |
| GET | `/api/seed-guide/saved/{doc_id}` | ä¿å­˜æ¸ˆã¿ã‚¬ã‚¤ãƒ‰å–å¾— |
| DELETE | `/api/seed-guide/saved/{doc_id}` | ä¿å­˜æ¸ˆã¿ã‚¬ã‚¤ãƒ‰å‰Šé™¤ |
| GET | `/api/seed-guide/image/{job_id}/{step_index}` | ã‚¬ã‚¤ãƒ‰ç”»åƒãƒ—ãƒ­ã‚­ã‚· |

### ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/seed-guide/character` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆã‚¸ãƒ§ãƒ–ä½œæˆ |
| GET | `/api/seed-guide/character/{job_id}` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
| GET | `/api/characters` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä¸€è¦§ |
| POST | `/api/characters/{job_id}/select` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é¸æŠ |
| GET | `/api/character` | æœ€æ–°ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼æƒ…å ±å–å¾— |
| GET | `/api/character/image` | ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒå–å¾— (ãƒ—ãƒ­ã‚­ã‚·) |

### çµ±åˆã‚·ãƒ¼ãƒ‰æ©Ÿèƒ½
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/unified/start` | çµ±åˆã‚¸ãƒ§ãƒ–é–‹å§‹ (Research + Guide + Character) |
| GET | `/api/unified/jobs/{job_id}` | çµ±åˆã‚¸ãƒ§ãƒ–ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾— |

### æ ½åŸ¹æ—¥è¨˜
| ãƒ¡ã‚½ãƒƒãƒ‰ | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | èª¬æ˜ |
|---------|---------------|------|
| POST | `/api/diary/auto-generate` | æ ½åŸ¹æ—¥è¨˜è‡ªå‹•ç”Ÿæˆ (Schedulerç”¨) |
| POST | `/api/diary/generate-manual` | æ ½åŸ¹æ—¥è¨˜æ‰‹å‹•ç”Ÿæˆ (SSE) |
| POST | `/api/diary/generate-daily` | æ—¥æ¬¡æ—¥è¨˜ç”Ÿæˆ |
| GET | `/api/diary/list` | æ ½åŸ¹æ—¥è¨˜ä¸€è¦§å–å¾— |
| GET | `/api/diary/{date}` | æŒ‡å®šæ—¥ã®æ—¥è¨˜å–å¾— |
| GET | `/api/diary/{date}/image` | æ—¥è¨˜çµµæ—¥è¨˜ç”»åƒå–å¾— (ãƒ—ãƒ­ã‚­ã‚·) |

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Â© 2026 ãƒãƒ¼ãƒ ç¬‘é¡”éšŠ

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ
